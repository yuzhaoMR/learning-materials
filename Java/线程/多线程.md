# 多线程

> 目的

为了提高应用程序的使用率，但是如果多线程的代码没有好好设计的话，那未必会提高效率。反而降低了效率，甚至会造成死锁！

## 进程与线程

> 进程

系统进行资源分配和调度的独立单位。每一个进程都有它自己的内存空间和系统资源。

> 为什么引入线程

进程实现多处理非常耗费 CPU 的资源，而我们引入线程是作为调度和分派的基本单位；为了提高系统的执行效率，减少处理机的空转时间和调度切换的时间，以及便于系统管理。使 OS 具有更好的并发性。

> 比较

- 进程作为资源分配的基本单位
- 线程作为资源调度的基本单位，是程序的执行单元，执行路径(单线程：一条执行路径，多线程：多条执行路径)。是程序使用 CPU 的最基本单位。

## 并行与并发

> 并行：

- 并行性是指同一时刻内发生两个或多个事件。
- 并行是在不同实体上的多个事件

> 并发：

- 并发性是指同一时间间隔内发生两个或多个事件。
- 并发是在同一实体上的多个事件

由此可⻅：并行是针对进程的，并发是针对线程的。

## Java 实现多线程

- 继承 Thread，重写 run 方法(1.简洁方便的，直接就可以 start 2.java 的单继承机制，就不可以继承其他的类了)
- 实现 Runnable 接口，重写 run 方法(1.相对 Callable 来说代码更简洁，使用更方便，少了一次转换 FutureTask 2.相对与第一种，运行任务和运行机制解耦)
- 实现 Callable 接口，重写 call 方法(1.有返回值、可以抛出异常)
